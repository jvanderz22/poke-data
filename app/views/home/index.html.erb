<script>
  $(document).ready(function() {
    $("#battle_selected_team_id").change(function() {
      var value = $(this).val()
      $.ajax({
        url: '/user_teams/' + value,
        type: 'GET',
        success: function(data) {
        $('.pokemon-list').html("<h4> Pokemon list <% @user_team.pokemon.each do |pokemon| %> <%= pokemon.name %> <% end %>  </h4>")
         }
      })
      })
    })
</script>
<h2> Hello World </h2>
<%= @user_team %>
<% @user_team.pokemon.each do |pokemon| %>
  <%= pokemon %>
<% end %>
<%= form_for (Battle.new) do |f| %>
  <div class="col-md-6 user-team">
    <div class="user-team-select">
      <%= f.collection_select(:selected_team_id, UserTeam.all, :id, :name) %>
    </div>
    <%= f.label(:user_pokemon_remaining, "User Pokemon Remaining") %>
    <%= f.text_field(:user_pokemon_remaining) %>
    <div class ="pokemon-list">
    </div>
  </div>
  <div class="col-md-6 opponent-team">
    <%= f.fields_for :opponent_team do |ff| %>
      <%= ff.fields_for :pokemon_team do |fa| %>
      <div>
        <%= fa.label(:pokemon1, "Pokemon 1:") %>
        <%= fa.text_field(:pokemon1) %>
        <%= fa.label(:pokemon1_lead, "Lead") %>
        <%= fa.check_box(:pokemon1_lead) %>
        <%= fa.label(:pokemon1_back, "Back") %>
        <%= fa.check_box(:pokemon1_back) %>
      </div>
      <% end %>

      <%= ff.fields_for :pokemon_team do |fa| %>
        <div>
          <%= fa.label(:pokemon2, "Pokemon 2:") %>
          <%= fa.text_field(:pokemon2) %>
          <%= fa.label(:pokemon2_lead, "Lead") %>
          <%= fa.check_box(:pokemon2_lead) %>
          <%= fa.label(:pokemon2_back, "Back") %>
          <%= fa.check_box(:pokemon2_back) %>
        </div>
      <% end %>

      <%= ff.fields_for :pokemon_team do |fa| %>
        <div>
          <%= fa.label(:pokemon3, "Pokemon 3:") %>
          <%= fa.text_field(:pokemon3) %>
          <%= fa.label(:pokemon3_lead, "Lead") %>
          <%= fa.check_box(:pokemon3_lead) %>
          <%= fa.label(:pokemon3_back, "Back") %>
          <%= fa.check_box(:pokemon3_back) %>
        </div>
      <% end %>

      <%= ff.fields_for :pokemon_team do |fa| %>
        <div>
          <%= fa.label(:pokemon4, "Pokemon 4:") %>
          <%= fa.text_field(:pokemon4) %>
          <%= fa.label(:pokemon4_lead, "Lead") %>
          <%= fa.check_box(:pokemon4_lead) %>
          <%= fa.label(:pokemon4_back, "Back") %>
          <%= fa.check_box(:pokemon4_back) %>
        </div>
      <% end %>

      <%= ff.fields_for :pokemon_team do |fa| %>
        <div>
          <%= fa.label(:pokemon5, "Pokemon 5:") %>
          <%= fa.text_field(:pokemon5) %>
          <%= fa.label(:pokemon5_lead, "Lead") %>
          <%= fa.check_box(:pokemon5_lead) %>
          <%= fa.label(:pokemon5_back, "Back") %>
          <%= fa.check_box(:pokemon5_back) %>
        </div>
      <% end %>

      <%= ff.fields_for :pokemon_team do |fa| %>
        <div>
          <%= fa.label(:pokemon6, "Pokemon 6:") %>
          <%= fa.text_field(:pokemon6) %>
          <%= fa.label(:pokemon6_lead, "Lead") %>
          <%= fa.check_box(:pokemon6_lead) %>
          <%= fa.label(:pokemon6_back, "Back") %>
          <%= fa.check_box(:pokemon6_back) %>
        </div>
      <% end %>
    <% end %>
    <%= f.label(:opponent_pokemon_remaining, "Opponent Pokemon Remaining") %>
    <%= f.text_field(:opponent_pokemon_remaining) %>
  </div>
  <%= f.label(:win, "Win:") %>
  <%= f.check_box(:win) %>
  <%= f.submit "Submit" %>
<% end %>
